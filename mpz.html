<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mpz data type &mdash; PostgreSQL Multiple Precision Arithmetic 1.0.3 documentation</title>
    
    <link rel="stylesheet" href="_static/pgmp.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=Accessible"></script>
    <link rel="top" title="PostgreSQL Multiple Precision Arithmetic 1.0.3 documentation" href="index.html" />
    <link rel="next" title="mpq data type" href="mpq.html" />
    <link rel="prev" title="pgmp extension installation" href="install.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">PostgreSQL Multiple Precision Arithmetic 1.0.3 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="install.html" title="pgmp extension installation"
             accesskey="P">previous</a> |
          <a href="mpq.html" title="mpq data type"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mpz-data-type">
<h1><code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> data type<a class="headerlink" href="#mpz-data-type" title="Permalink to this headline">¶</a></h1>
<p>The <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> data type can store integer numbers of arbitrary size, up to the
maximum memory allowed by PostgreSQL data types (about 1GB).</p>
<p>Every PostgreSQL integer type (<code class="xref py py-obj docutils literal"><span class="pre">int16</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">int32</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">int64</span></code>) can be converted
to <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code>. Not integer types (<code class="xref py py-obj docutils literal"><span class="pre">float4</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">float8</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">numeric</span></code>) are truncated.
Cast from integer types are automatic, whereas non integer require explicit
cast (but are implicitly converted in assignment).</p>
<div class="highlight-postgres"><div class="highlight"><pre><span class="k">SELECT</span> <span class="n">mpz</span><span class="p">(</span><span class="mf">10000</span><span class="p">);</span>      <span class="c1">-- Cast using mpz as a function</span>
<span class="k">SELECT</span> <span class="mf">10000</span><span class="o">::</span><span class="n">mpz</span><span class="p">;</span>      <span class="c1">-- PostgreSQL-style cast</span>
</pre></div>
</div>
<p>Casting <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> to PostgreSQL integer types and <code class="xref py py-obj docutils literal"><span class="pre">numeric</span></code> works as expected
and will overflow if the value is too big for their range. Casting to
<code class="xref py py-obj docutils literal"><span class="pre">float4</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">float8</span></code> works as well: in case of overflow the value will be
<em>Infinity</em>.</p>
<p><code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> values can be compared using the regular PostgreSQL comparison
operators. Indexes on <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> columns can be created using the <em>btree</em> or the
<em>hash</em> method.</p>
<div class="section" id="mpz-textual-input-output">
<h2><code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> textual input/output<a class="headerlink" href="#mpz-textual-input-output" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mpz">
<code class="descname">mpz</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#mpz" title="Permalink to this definition">¶</a></dt>
<dt>
<code class="descname">mpz</code><span class="sig-paren">(</span><em>text</em>, <em>base</em><span class="sig-paren">)</span></dt>
<dd><p>Convert a textual representation into an <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> number. The form
<code class="samp docutils literal"><em><span class="pre">text</span></em><span class="pre">::mpz</span></code> is equivalent to <code class="samp docutils literal"><span class="pre">mpz(</span><em><span class="pre">text</span></em><span class="pre">)</span></code>.</p>
<p>White space is allowed in the string, and is simply ignored.</p>
<p>The <em>base</em> may vary from 2 to 62, or if <em>base</em> is 0 or omitted, then the
leading characters are used: <code class="docutils literal"><span class="pre">0x</span></code> and <code class="docutils literal"><span class="pre">0X</span></code> for hexadecimal, <code class="docutils literal"><span class="pre">0b</span></code> and
<code class="docutils literal"><span class="pre">0B</span></code> for binary, <code class="docutils literal"><span class="pre">0</span></code> for octal, or decimal otherwise.</p>
<p>For bases up to 36, case is ignored; upper-case and lower-case letters
have the same value.  For bases 37 to 62, upper-case letter represent the
usual 10..35 while lower-case letter represent 36..61.</p>
<div class="highlight-psql"><div class="highlight"><pre><span class="gp">=#</span> <span class="k">SELECT</span> <span class="s1">&#39;0x10&#39;</span><span class="o">::</span><span class="n">mpz</span> <span class="k">AS</span> <span class="s-Name">&quot;hex&quot;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="o">::</span><span class="n">mpz</span> <span class="k">AS</span> <span class="s-Name">&quot;dec&quot;</span><span class="p">,</span>
<span class="gp">-#</span>        <span class="s1">&#39;010&#39;</span><span class="o">::</span><span class="n">mpz</span> <span class="k">AS</span> <span class="s-Name">&quot;oct&quot;</span><span class="p">,</span> <span class="s1">&#39;0b10&#39;</span><span class="o">::</span><span class="n">mpz</span> <span class="k">AS</span> <span class="s-Name">&quot;bin&quot;</span><span class="p">;</span>
<span class="go"> hex | dec | oct | bin</span>
<span class="go">-----+-----+-----+-----</span>
<span class="go"> 16  | 10  | 8   | 2</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The maximum base accepted by GMP 4.1 is 36, not 62.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="text">
<code class="descname">text</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#text" title="Permalink to this definition">¶</a></dt>
<dt>
<code class="descname">text</code><span class="sig-paren">(</span><em>z</em>, <em>base</em><span class="sig-paren">)</span></dt>
<dd><p>Convert the <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> <em>z</em> into a string. The form <code class="samp docutils literal"><em><span class="pre">z</span></em><span class="pre">::text</span></code> is
equivalent to <code class="samp docutils literal"><span class="pre">text(</span><em><span class="pre">z</span></em><span class="pre">)</span></code>.</p>
<p><em>base</em> may vary from 2 to 62 or from -2 to -36.  For base in the range
2..36, digits and lower-case letters are used; for -2..-36, digits and
upper-case letters are used; for 37..62, digits, upper-case letters, and
lower-case letters (in that significance order) are used. If <em>base</em> is not
specified, 10 is assumed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The maximum base accepted by GMP 4.1 is 36, not 62.</p>
</div>
</dd></dl>

</div>
<div class="section" id="arithmetic-operators-and-functions">
<h2>Arithmetic Operators and Functions<a class="headerlink" href="#arithmetic-operators-and-functions" title="Permalink to this headline">¶</a></h2>
<p>These operators can either work on <code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> arguments or take an integer
argument that will be implicitly converted.  Operators taking a <span class="math">\(2^n\)</span>
argument always use an integer as right argument.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">GMP defines many structures in terms of <code class="xref py py-obj docutils literal"><span class="pre">long</span></code> or <code class="xref py py-obj docutils literal"><span class="pre">unsigned</span> <span class="pre">long</span></code>, whose
definitions may vary across platforms. PostgreSQL instead offers data
types with a defined number of bytes (e.g. <code class="xref py py-obj docutils literal"><span class="pre">int4</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">int8</span></code>). For this
reason, functions taking an integer as argument are defined as <code class="xref py py-obj docutils literal"><span class="pre">int8</span></code>,
but they may actually fail if the server is 32 bit and the argument
doesn&#8217;t fit into an <code class="xref py py-obj docutils literal"><span class="pre">int4</span></code>.</p>
</div>
<table border="1" class="docutils" id="id12">
<caption><span class="caption-text">Arithmetic operators</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="15%" />
<col width="43%" />
<col width="26%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">Example</th>
<th class="head">Return</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">-</span></code></td>
<td>Unary minus</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">-</span> <span class="pre">5::mpz</span></code></td>
<td>-5</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">+</span></code></td>
<td>Unary plus</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">+</span> <span class="pre">5::mpz</span></code></td>
<td>5</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">+</span></code></td>
<td>Addition</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">2::mpz</span> <span class="pre">+</span> <span class="pre">3::mpz</span></code></td>
<td>5</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">-</span></code></td>
<td>Subtraction</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">2::mpz</span> <span class="pre">-</span> <span class="pre">3::mpz</span></code></td>
<td>-1</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">*</span></code></td>
<td>Multiplication</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">7::mpz</span> <span class="pre">*</span> <span class="pre">3::mpz</span></code></td>
<td>21</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">&lt;&lt;</span></code></td>
<td>Multiplication by <span class="math">\(2^n\)</span></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">3::mpz</span> <span class="pre">&lt;&lt;</span> <span class="pre">2</span></code></td>
<td>12</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">^</span></code></td>
<td>Power (1)</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">3::mpz</span> <span class="pre">^</span> <span class="pre">2</span></code></td>
<td>9</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li>See also the <a class="reference internal" href="#exponentiation-functions">exponentiation functions</a>.</li>
</ol>
<dl class="function">
<dt id="abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute value of <em>z</em>.</p>
</dd></dl>

<dl class="function">
<dt id="sgn">
<code class="descname">sgn</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#sgn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return +1 if <em>z</em> &gt; 0, 0 if <em>z</em> = 0, and -1 if <em>z</em> &lt; 0.</p>
</dd></dl>

<dl class="function">
<dt id="odd">
<code class="descname">odd</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#odd" title="Permalink to this definition">¶</a></dt>
<dt id="even">
<code class="descname">even</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#even" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal"><span class="pre">true</span></code> if <em>z</em> is odd or even, respectively, else <code class="xref py py-obj docutils literal"><span class="pre">false</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="division-operators-and-functions">
<h2>Division Operators and Functions<a class="headerlink" href="#division-operators-and-functions" title="Permalink to this headline">¶</a></h2>
<p>For all the division-related operators <span class="math">\(n \oslash d\)</span>, <span class="math">\(q\)</span> and
<span class="math">\(r\)</span> will satisfy <span class="math">\(n = q \cdot d + r\)</span>, and <span class="math">\(r\)</span> will satisfy
<span class="math">\(0 \le |r| \lt |d|\)</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only the truncating division and reminder (<code class="xref py py-obj docutils literal"><span class="pre">/</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">%</span></code>) have the correct
precedence respect to addition, subtraction and multiplication.
See <a class="reference external" href="http://www.postgresql.org/docs/9.0/static/sql-syntax-lexical.html#SQL-PRECEDENCE-TABLE">the PostgreSQL precedence table</a> for further details.</p>
</div>
<table border="1" class="docutils" id="id13">
<caption><span class="caption-text">Division operators</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="16%" />
<col width="45%" />
<col width="29%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">Example</th>
<th class="head">Return</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">/</span></code></td>
<td><p class="first">Division quotient</p>
<p class="last">Rounding towards zero</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">/</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">/</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">2</p>
<p class="last">-2</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">%</span></code></td>
<td><p class="first">Division reminder</p>
<p class="last">Rounding towards zero</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">%</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">%</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">1</p>
<p class="last">-1</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">+/</span></code></td>
<td><p class="first">Division quotient</p>
<p class="last">Rounding towards +infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">+/</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">+/</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">3</p>
<p class="last">-2</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">+%</span></code></td>
<td><p class="first">Division reminder</p>
<p class="last">Rounding towards +infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">+%</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">+%</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">-2</p>
<p class="last">-1</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">-/</span></code></td>
<td><p class="first">Division quotient</p>
<p class="last">Rounding towards -infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">-/</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">-/</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">2</p>
<p class="last">-3</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">-%</span></code></td>
<td><p class="first">Division reminder</p>
<p class="last">Rounding towards -infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;7::mpz</span> <span class="pre">-%</span> <span class="pre">3::mpz</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-7::mpz</span> <span class="pre">-%</span> <span class="pre">3::mpz</span></code></p>
</td>
<td><p class="first">1</p>
<p class="last">2</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">/?</span></code></td>
<td>Divisible (1)</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">21::mpz</span> <span class="pre">/?</span> <span class="pre">7::mpz</span></code></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">/!</span></code></td>
<td>Exact division (2)</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">21::mpz</span> <span class="pre">/!</span> <span class="pre">7::mpz</span></code></td>
<td>3</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li>See also the function <a class="reference internal" href="#divisible" title="divisible"><code class="xref py py-obj docutils literal"><span class="pre">divisible()</span></code></a>.</li>
<li>The exact division operator (<code class="xref py py-obj docutils literal"><span class="pre">/!</span></code>) produces correct results only when it
is known in advance that <span class="math">\(d\)</span> divides <span class="math">\(n\)</span>.  The operator is
much faster than the other division operators, and is the best choice when
exact division is known to occur, for example reducing a rational to
lowest terms.</li>
</ol>
<table border="1" class="docutils" id="id14">
<caption><span class="caption-text">Division operators for powers of 2</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="11%" />
<col width="51%" />
<col width="27%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">Example</th>
<th class="head">Return</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">&gt;&gt;</span></code></td>
<td><p class="first">Quotient of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards zero</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">&gt;&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">&gt;&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">128</p>
<p class="last">-128</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">%&gt;</span></code></td>
<td><p class="first">Remainder of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards zero</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">%&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">%&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">3</p>
<p class="last">-3</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">+&gt;&gt;</span></code></td>
<td><p class="first">Quotient of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards +infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">+&gt;&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">+&gt;&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">129</p>
<p class="last">-128</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">+%&gt;</span></code></td>
<td><p class="first">Remainder of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards +infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">+%&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">+%&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">-5</p>
<p class="last">-3</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">-&gt;&gt;</span></code></td>
<td><p class="first">Quotient of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards -infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">-&gt;&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">-&gt;&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">128</p>
<p class="last">-129</p>
</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">-%&gt;</span></code></td>
<td><p class="first">Remainder of division by <span class="math">\(2^n\)</span></p>
<p class="last">Rounding towards -infinity</p>
</td>
<td><p class="first"><code class="xref py py-obj docutils literal"><span class="pre">&nbsp;1027::mpz</span> <span class="pre">-%&gt;</span> <span class="pre">3</span></code></p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">-1027::mpz</span> <span class="pre">-%&gt;</span> <span class="pre">3</span></code></p>
</td>
<td><p class="first">3</p>
<p class="last">5</p>
</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">&gt;&gt;?</span></code></td>
<td>Divisible by <span class="math">\(2^n\)</span> (1)</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">64::mpz</span> <span class="pre">&gt;&gt;?</span> <span class="pre">3</span></code></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">true</span></code></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li>See also the function <a class="reference internal" href="#divisible_2exp" title="divisible_2exp"><code class="xref py py-obj docutils literal"><span class="pre">divisible_2exp()</span></code></a>.</li>
</ol>
<dl class="function">
<dt id="tdiv_qr">
<code class="descname">tdiv_qr</code><span class="sig-paren">(</span><em>n</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#tdiv_qr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple containing quotient <em>q</em> and remainder <em>r</em> of the division,
rounding towards 0.</p>
</dd></dl>

<dl class="function">
<dt id="cdiv_qr">
<code class="descname">cdiv_qr</code><span class="sig-paren">(</span><em>n</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#cdiv_qr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple containing quotient <em>q</em> and remainder <em>r</em> of the division,
rounding towards +infinity (ceil).</p>
</dd></dl>

<dl class="function">
<dt id="fdiv_qr">
<code class="descname">fdiv_qr</code><span class="sig-paren">(</span><em>n</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#fdiv_qr" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple containing quotient <em>q</em> and remainder <em>r</em> of the division,
rounding towards -infinity (floor).</p>
</dd></dl>

<dl class="function">
<dt id="divisible">
<code class="descname">divisible</code><span class="sig-paren">(</span><em>n</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#divisible" title="Permalink to this definition">¶</a></dt>
<dt id="divisible_2exp">
<code class="descname">divisible_2exp</code><span class="sig-paren">(</span><em>n</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#divisible_2exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal"><span class="pre">true</span></code> if <em>n</em> is exactly divisible by <em>d</em>, or in the case of
<code class="xref py py-obj docutils literal"><span class="pre">divisible_2exp()</span></code> by <span class="math">\(2^b\)</span>.</p>
<p><span class="math">\(n\)</span> is divisible by <span class="math">\(d\)</span> if there exists an integer <span class="math">\(q\)</span>
satisfying <span class="math">\(n = q \cdot d\)</span>.  Unlike the other division operators,
<em>d</em>=0 is accepted and following the rule it can be seen that only 0
is considered divisible by 0.</p>
<p>The operators <code class="xref py py-obj docutils literal"><span class="pre">/?</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">&gt;&gt;?</span></code> are aliases for <code class="xref py py-obj docutils literal"><span class="pre">divisible()</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">divisible_2exp()</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="congruent">
<code class="descname">congruent</code><span class="sig-paren">(</span><em>n</em>, <em>c</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#congruent" title="Permalink to this definition">¶</a></dt>
<dt id="congruent_2exp">
<code class="descname">congruent_2exp</code><span class="sig-paren">(</span><em>n</em>, <em>c</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#congruent_2exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal"><span class="pre">true</span></code> if <em>n</em> is congruent to <em>c</em> modulo <em>d</em>, or in the case of
<code class="xref py py-obj docutils literal"><span class="pre">congruent_2exp()</span></code> modulo <span class="math">\(2^b\)</span>.</p>
<p><span class="math">\(n\)</span> is congruent to <span class="math">\(c \mod d\)</span> if there exists an integer
<span class="math">\(q\)</span> satisfying <span class="math">\(n = c + q \cdot d\)</span>. Unlike the other division
operators, <em>d</em>=0 is accepted and following the rule it can be seen that n
and c are considered congruent mod 0 only when exactly equal.</p>
</dd></dl>

</div>
<div class="section" id="exponentiation-functions">
<h2>Exponentiation Functions<a class="headerlink" href="#exponentiation-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pow">
<code class="descname">pow</code><span class="sig-paren">(</span><em>base</em>, <em>exp</em><span class="sig-paren">)</span><a class="headerlink" href="#pow" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>base</em> raised to <em>exp</em>.</p>
<p><em>exp</em> is defined as <code class="xref py py-obj docutils literal"><span class="pre">int8</span></code> but must fit into a <code class="xref py py-obj docutils literal"><span class="pre">long</span></code> as defined on the
server.</p>
<p>The function is an alias for the <code class="xref py py-obj docutils literal"><span class="pre">^</span></code> operator.</p>
</dd></dl>

<dl class="function">
<dt id="powm">
<code class="descname">powm</code><span class="sig-paren">(</span><em>base</em>, <em>exp</em>, <em>mod</em><span class="sig-paren">)</span><a class="headerlink" href="#powm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (<em>base</em> raised to <em>exp</em>) modulo <em>mod</em>.</p>
<p>Negative <em>exp</em> is supported if an inverse <em>base^-1</em> mod <em>mod</em> exists (see
<a class="reference internal" href="#invert" title="invert"><code class="xref py py-obj docutils literal"><span class="pre">invert()</span></code></a> function). If an inverse doesn&#8217;t exist then a divide by zero is
raised.</p>
</dd></dl>

</div>
<div class="section" id="root-extraction-functions">
<h2>Root Extraction Functions<a class="headerlink" href="#root-extraction-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="root">
<code class="descname">root</code><span class="sig-paren">(</span><em>op</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the truncated integer part of the <em>n</em>th root of <em>op</em>.</p>
<p><em>n</em> is defined as <code class="xref py py-obj docutils literal"><span class="pre">int8</span></code> but must fit into a <code class="xref py py-obj docutils literal"><span class="pre">long</span></code> as defined on the
server.</p>
</dd></dl>

<dl class="function">
<dt id="rootrem">
<code class="descname">rootrem</code><span class="sig-paren">(</span><em>op</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#rootrem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of 2 elements with the truncated integer part of the <em>n</em>th
root of <em>op</em> and the remainder (<em>i.e.</em> <em>op</em> - <em>root</em> ^ <em>n</em>).</p>
<div class="highlight-psql"><div class="highlight"><pre><span class="gp">=#</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">rootrem</span><span class="p">(</span><span class="mf">28</span><span class="p">,</span> <span class="mf">3</span><span class="p">);</span>
<span class="go"> root | rem</span>
<span class="go">------+-----</span>
<span class="go"> 3    | 1</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function is not available on GMP version &lt; 4.2.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sqrt">
<code class="descname">sqrt</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the truncated integer part of the square root of <em>op</em>.</p>
</dd></dl>

<dl class="function">
<dt id="sqrtrem">
<code class="descname">sqrtrem</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sqrtrem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of 2 elements with the truncated integer part of the square
root of <em>op</em> and the remainder (<em>i.e.</em> <em>op</em> - <em>root</em> * <em>root</em>).</p>
<div class="highlight-psql"><div class="highlight"><pre><span class="gp">=#</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">sqrtrem</span><span class="p">(</span><span class="mf">83</span><span class="p">);</span>
<span class="go"> root | rem</span>
<span class="go">------+-----</span>
<span class="go"> 9    | 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="perfect_power">
<code class="descname">perfect_power</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#perfect_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal"><span class="pre">true</span></code> if <em>op</em> is a perfect power, <em>i.e.</em>, if there exist
integers <span class="math">\(a\)</span> and <span class="math">\(b\)</span>, with <span class="math">\(b&gt;1\)</span>, such that <em>op</em> equals
<span class="math">\(a^b\)</span>.</p>
<p>Under this definition both 0 and 1 are considered to be perfect powers.
Negative values of op are accepted, but of course can only be odd perfect
powers.</p>
</dd></dl>

<dl class="function">
<dt id="perfect_square">
<code class="descname">perfect_square</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#perfect_square" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="xref py py-obj docutils literal"><span class="pre">true</span></code> if <em>op</em> is a perfect square, <em>i.e.</em>, if the square root of
<em>op</em> is an integer. Under this definition both 0 and 1 are considered to
be perfect squares.</p>
</dd></dl>

</div>
<div class="section" id="number-theoretic-functions">
<h2>Number Theoretic Functions<a class="headerlink" href="#number-theoretic-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="probab_prime">
<code class="descname">probab_prime</code><span class="sig-paren">(</span><em>n</em>, <em>reps</em><span class="sig-paren">)</span><a class="headerlink" href="#probab_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether <em>n</em> is prime. Return 2 if <em>n</em> is definitely prime,
return 1 if <em>n</em> is probably prime (without being certain), or return 0 if
<em>n</em> is definitely composite.</p>
<p>This function does some trial divisions, then some <a class="reference external" href="http://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test">Miller-Rabin
probabilistic primality tests</a>. <em>reps</em> controls how many such tests are
done, 5 to 10 is a reasonable number, more will reduce the chances of a
composite being returned as “probably prime”.</p>
<p>Miller-Rabin and similar tests can be more properly called compositeness
tests. Numbers which fail are known to be composite but those which pass
might be prime or might be composite. Only a few composites pass, hence
those which pass are considered probably prime.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://en.wikipedia.org/wiki/Primality_test">Primality test</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="nextprime">
<code class="descname">nextprime</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#nextprime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next prime greater than <em>op</em>.</p>
<p>This function uses a probabilistic algorithm to identify primes. For
practical purposes it&#8217;s adequate, the chance of a composite passing will
be extremely small.</p>
</dd></dl>

<dl class="function">
<dt id="gcd">
<code class="descname">gcd</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#gcd" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the greatest common divisor of <em>a</em> and <em>b</em>. The result is
always positive even if one or both input operands are negative.</p>
</dd></dl>

<dl class="function">
<dt id="gcdext">
<code class="descname">gcdext</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#gcdext" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the greatest common divisor <em>g</em> of <em>a</em> and <em>b</em>, and in addition
coefficients <em>s</em> and <em>t</em> satisfying <span class="math">\(a \cdot s + b \cdot t = g\)</span>. The
value <em>g</em> is always positive, even if one or both of <em>a</em> and <em>b</em> are
negative. The values <em>s</em> and <em>t</em> are chosen such that <span class="math">\(|s| \le |b|
\hspace{0em}\)</span> and <span class="math">\(|t| \le |a| \hspace{0em}\)</span>.</p>
<div class="highlight-psql"><div class="highlight"><pre><span class="gp">=#</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span>  <span class="n">gcdext</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span> <span class="mf">15</span><span class="p">);</span>
<span class="go"> g | s  | t</span>
<span class="go">---+----+---</span>
<span class="go"> 3 | -2 | 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lcm">
<code class="descname">lcm</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#lcm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the least common multiple of <em>a</em> and <em>b</em>. The value returned is
always positive, irrespective of the signs of <em>a</em> and <em>b</em>. The return
will be zero if either <em>a</em> or <em>b</em> is zero.</p>
</dd></dl>

<dl class="function">
<dt id="fac">
<code class="descname">fac</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#fac" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>op</em>!, the factorial of <em>op</em>.</p>
</dd></dl>

<dl class="function">
<dt id="bin">
<code class="descname">bin</code><span class="sig-paren">(</span><em>n</em>, <em>k</em><span class="sig-paren">)</span><a class="headerlink" href="#bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference external" href="http://en.wikipedia.org/wiki/Binomial_coefficient">binomial coefficient</a> <span class="math">\({n \choose k}\)</span>.
Negative values of <em>n</em> are supported, using the identity
<span class="math">\({-n \choose k} = (-1)^k {n+k-1 \choose k}\)</span>.</p>
</dd></dl>

<dl class="function">
<dt id="fib">
<code class="descname">fib</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#fib" title="Permalink to this definition">¶</a></dt>
<dt id="fib2">
<code class="descname">fib2</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#fib2" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">fib()</span></code> returns <span class="math">\(F_n\)</span>, the <em>n</em>th <a class="reference external" href="http://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a>.
<code class="xref py py-obj docutils literal"><span class="pre">fib2()</span></code> returns <span class="math">\(F_n\)</span> and <span class="math">\(F_{n-1}\)</span>.</p>
<p>These functions are designed for calculating isolated Fibonacci numbers.
When a sequence of values is wanted it&#8217;s best to start with <code class="xref py py-obj docutils literal"><span class="pre">fib2()</span></code>
and iterate the defining <span class="math">\(F_{n+1}=F_n+F_{n-1}\)</span> or similar.</p>
</dd></dl>

<dl class="function">
<dt id="lucnum">
<code class="descname">lucnum</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#lucnum" title="Permalink to this definition">¶</a></dt>
<dt id="lucnum2">
<code class="descname">lucnum2</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#lucnum2" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-obj docutils literal"><span class="pre">lucnum()</span></code> returns <span class="math">\(L_n\)</span>, the <em>n</em>th <a class="reference external" href="http://en.wikipedia.org/wiki/Lucas_number">Lucas number</a>.
<code class="xref py py-obj docutils literal"><span class="pre">lucnum2()</span></code> returns <span class="math">\(L_n\)</span> and <span class="math">\(L_{n-1}\)</span>.</p>
<p>These functions are designed for calculating isolated Lucas numbers.
When a sequence of values is wanted it&#8217;s best to start with <code class="xref py py-obj docutils literal"><span class="pre">lucnum2()</span></code>
and iterate the defining <span class="math">\(L_{n+1}=L_n+L_{n-1}\)</span> or similar.</p>
<p>The Fibonacci numbers and Lucas numbers are related sequences, so it&#8217;s
never necessary to call both <code class="xref py py-obj docutils literal"><span class="pre">fib2()</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">lucnum2()</span></code>. The formulas for
going from Fibonacci to Lucas can be found in <a class="reference external" href="http://gmplib.org/manual/Lucas-Numbers-Algorithm.html">Lucas Numbers Algorithm</a>,
the reverse is straightforward too.</p>
</dd></dl>

<dl class="function">
<dt id="invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of <em>a</em> modulo <em>b</em> if exists. The return value <em>r</em>
will satisfy <span class="math">\(0 \le r \lt b\)</span>. If an inverse doesn&#8217;t exist return
<code class="xref py py-obj docutils literal"><span class="pre">NULL</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="jacobi">
<code class="descname">jacobi</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#jacobi" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the <a class="reference external" href="http://en.wikipedia.org/wiki/Jacobi_symbol">Jacobi symbol</a> <span class="math">\((\frac{a}{b})\)</span>. This is defined
only for <em>b</em> odd.</p>
</dd></dl>

<dl class="function">
<dt id="legendre">
<code class="descname">legendre</code><span class="sig-paren">(</span><em>a</em>, <em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#legendre" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the <a class="reference external" href="http://en.wikipedia.org/wiki/Legendre_symbol">Legendre symbol</a> <span class="math">\((\frac{a}{p})\)</span>.  This is defined
only for <em>p</em> an odd positive prime, and for such <em>p</em> it&#8217;s identical to the
Jacobi symbol.</p>
</dd></dl>

<dl class="function">
<dt id="kronecker">
<code class="descname">kronecker</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#kronecker" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Jacobi symbol <span class="math">\((\frac{a}{b})\)</span> with the Kronecker
extension <span class="math">\((\frac{a}{2})=(\frac{2}{a})\)</span> when <em>a</em> odd, or
<span class="math">\((\frac{a}{2})=0\)</span> when <em>a</em> even.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Section 1.4.2, Henri Cohen, &#8220;A Course in Computational Algebraic
Number Theory&#8221;, Graduate Texts in Mathematics number 138,
Springer-Verlag, 1993. <a class="reference external" href="http://www.math.u-bordeaux.fr/~cohen/">http://www.math.u-bordeaux.fr/~cohen/</a></p>
</div>
</dd></dl>

</div>
<div class="section" id="logical-and-bit-manipulation-functions">
<h2>Logical and Bit Manipulation Functions<a class="headerlink" href="#logical-and-bit-manipulation-functions" title="Permalink to this headline">¶</a></h2>
<p>These functions behave as if twos complement arithmetic were used (although
sign-magnitude is the actual implementation). The least significant bit is
number 0.</p>
<table border="1" class="docutils" id="id15">
<caption><span class="caption-text">Logical Operators</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="9%" />
<col width="28%" />
<col width="41%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">Example</th>
<th class="head">Return</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">&amp;</span></code></td>
<td>Bitwise and</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b10001'::mpz</span> <span class="pre">&amp;</span> <span class="pre">'0b01001'::mpz</span></code></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b1'::mpz</span></code></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">|</span></code></td>
<td>Bitwise inclusive-or</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b10001'::mpz</span> <span class="pre">|</span> <span class="pre">'0b01001'::mpz</span></code></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b11001'::mpz</span></code></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">#</span></code></td>
<td>Bitwise exclusive-or</td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b10001'::mpz</span> <span class="pre">#</span> <span class="pre">'0b01001'::mpz</span></code></td>
<td><code class="xref py py-obj docutils literal"><span class="pre">'0b11000'::mpz</span></code></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="com">
<code class="descname">com</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#com" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ones&#8217; complement of <em>op</em>.</p>
</dd></dl>

<dl class="function">
<dt id="popcount">
<code class="descname">popcount</code><span class="sig-paren">(</span><em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#popcount" title="Permalink to this definition">¶</a></dt>
<dd><p>If op&gt;=0, return the population count of <em>op</em>, which is the number of 1
bits in the binary representation. If op&lt;0, the number of 1s is infinite,
and the return value is the largest possible, represented by
<a class="reference internal" href="misc.html#gmp_max_bitcnt" title="gmp_max_bitcnt"><code class="xref py py-obj docutils literal"><span class="pre">gmp_max_bitcnt()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="hamdist">
<code class="descname">hamdist</code><span class="sig-paren">(</span><em>op1</em>, <em>op2</em><span class="sig-paren">)</span><a class="headerlink" href="#hamdist" title="Permalink to this definition">¶</a></dt>
<dd><p>If <em>op1</em> and <em>op2</em> are both &gt;=0 or both &lt;0, return the <a class="reference external" href="http://en.wikipedia.org/wiki/Hamming_distance">Hamming
distance</a>
between the two operands, which is the number of bit positions where <em>op1</em>
and <em>op2</em> have different bit values. If one operand is &gt;=0 and the other &lt;0
then the number of bits different is infinite, and the return value is the
largest possible, represented by <a class="reference internal" href="misc.html#gmp_max_bitcnt" title="gmp_max_bitcnt"><code class="xref py py-obj docutils literal"><span class="pre">gmp_max_bitcnt()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="scan0">
<code class="descname">scan0</code><span class="sig-paren">(</span><em>op</em>, <em>starting_bit</em><span class="sig-paren">)</span><a class="headerlink" href="#scan0" title="Permalink to this definition">¶</a></dt>
<dt id="scan1">
<code class="descname">scan1</code><span class="sig-paren">(</span><em>op</em>, <em>starting_bit</em><span class="sig-paren">)</span><a class="headerlink" href="#scan1" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan <em>op</em>, starting from bit <em>starting_bit</em>, towards more significant
bits, until the first 0 or 1 bit (respectively) is found. Return the index
of the found bit.</p>
<p>If the bit at <em>starting_bit</em> is already what&#8217;s sought, then <em>starting_bit</em>
is returned.</p>
<p>If there&#8217;s no bit found, then the largest possible bit count is returned
(represented by <a class="reference internal" href="misc.html#gmp_max_bitcnt" title="gmp_max_bitcnt"><code class="xref py py-obj docutils literal"><span class="pre">gmp_max_bitcnt()</span></code></a>). This will happen in <code class="xref py py-obj docutils literal"><span class="pre">scan0()</span></code> past
the end of a negative number, or <code class="xref py py-obj docutils literal"><span class="pre">scan1()</span></code> past the end of a nonnegative
number.</p>
</dd></dl>

<dl class="function">
<dt id="setbit">
<code class="descname">setbit</code><span class="sig-paren">(</span><em>op</em>, <em>bit_index</em><span class="sig-paren">)</span><a class="headerlink" href="#setbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>op</em> with bit <em>bit_index</em> set.</p>
</dd></dl>

<dl class="function">
<dt id="clrbit">
<code class="descname">clrbit</code><span class="sig-paren">(</span><em>op</em>, <em>bit_index</em><span class="sig-paren">)</span><a class="headerlink" href="#clrbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>op</em> with bit <em>bit_index</em> cleared.</p>
</dd></dl>

<dl class="function">
<dt id="combit">
<code class="descname">combit</code><span class="sig-paren">(</span><em>op</em>, <em>bit_index</em><span class="sig-paren">)</span><a class="headerlink" href="#combit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <em>op</em> with bit <em>bit_index</em> complemented.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function is not available on GMP version &lt; 4.2.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="tstbit">
<code class="descname">tstbit</code><span class="sig-paren">(</span><em>op</em>, <em>bit_index</em><span class="sig-paren">)</span><a class="headerlink" href="#tstbit" title="Permalink to this definition">¶</a></dt>
<dd><p>Test bit <em>bit_index</em> in <em>op</em> and return 0 or 1 accordingly.</p>
</dd></dl>

</div>
<div class="section" id="random-number-functions">
<h2>Random number functions<a class="headerlink" href="#random-number-functions" title="Permalink to this headline">¶</a></h2>
<p>Sequences of pseudo-random numbers are generated using an internal per-session
variable, which holds an algorithm selection and a current state. Such a
variable must be initialized by a call to one of the <code class="xref py py-obj docutils literal"><span class="pre">randinit*()</span></code> functions,
and can be seeded with the <a class="reference internal" href="#randseed" title="randseed"><code class="xref py py-obj docutils literal"><span class="pre">randseed()</span></code></a> function.</p>
<dl class="function">
<dt id="randinit">
<code class="descname">randinit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#randinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session random state with a default algorithm. This will be
a compromise between speed and randomness, and is recommended for
applications with no special requirements. Currently this is
<a class="reference internal" href="#randinit_mt" title="randinit_mt"><code class="xref py py-obj docutils literal"><span class="pre">randinit_mt()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="randinit_mt">
<code class="descname">randinit_mt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#randinit_mt" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session random state for a <a class="reference external" href="http://en.wikipedia.org/wiki/Mersenne_twister">Mersenne Twister</a> algorithm.
This algorithm is fast and has good randomness properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The function is not available on GMP version &lt; 4.2.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="randinit_lc_2exp">
<code class="descname">randinit_lc_2exp</code><span class="sig-paren">(</span><em>a</em>, <em>c</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#randinit_lc_2exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session random state with a <a class="reference external" href="http://en.wikipedia.org/wiki/Linear_congruential_generator">linear congruential</a>
algorithm <span class="math">\(X = (a \cdot X + c) \mod 2^e\)</span>.</p>
<p>The low bits of <em>X</em> in this algorithm are not very random. The least
significant bit will have a period no more than 2, and the second bit no
more than 4, etc. For this reason only the high half of each <em>X</em> is
actually used.</p>
<p>When a random number of more than <span class="math">\(e/2\)</span> bits is to be generated,
multiple iterations of the recurrence are used and the results
concatenated.</p>
</dd></dl>

<dl class="function">
<dt id="randinit_lc_2exp_size">
<code class="descname">randinit_lc_2exp_size</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#randinit_lc_2exp_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the session random state for a linear congruential algorithm as
per <a class="reference internal" href="#randinit_lc_2exp" title="randinit_lc_2exp"><code class="xref py py-obj docutils literal"><span class="pre">randinit_lc_2exp()</span></code></a>. <em>a</em>, <em>c</em> and <em>e</em> are selected from a table,
chosen so that size bits (or more) of each <em>X</em> will be used, ie.
<span class="math">\(e/2 \ge s\)</span>.</p>
<p>The function fails if <em>s</em> is bigger than the table data provides. The
maximum size currently supported is 128.</p>
</dd></dl>

<dl class="function">
<dt id="randseed">
<code class="descname">randseed</code><span class="sig-paren">(</span><em>seed</em><span class="sig-paren">)</span><a class="headerlink" href="#randseed" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an initial seed value into session random state.</p>
<p>The size of a seed determines how many different sequences of random
numbers is possible to generate. The &#8220;quality&#8221; of the seed is the
randomness of a given seed compared to the previous seed used, and this
affects the randomness of separate number sequences. The method for
choosing a seed is critical if the generated numbers are to be used for
important applications, such as generating cryptographic keys.</p>
<p>Traditionally the system time has been used to seed, but care needs to be
taken with this. If an application seeds often and the resolution of the
system clock is low, then the same sequence of numbers might be repeated.
Also, the system time is quite easy to guess, so if unpredictability is
required then it should definitely not be the only source for the seed
value. On some systems there&#8217;s a special device <code class="docutils literal"><span class="pre">/dev/random</span></code> which
provides random data better suited for use as a seed.</p>
</dd></dl>

<dl class="function">
<dt id="urandomb">
<code class="descname">urandomb</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#urandomb" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a uniformly distributed random integer in the range <span class="math">\(0\)</span> to
<span class="math">\(2^n-1\)</span>, inclusive.</p>
<p>The session state must be initialized by calling one of the <code class="xref py py-obj docutils literal"><span class="pre">randinit()</span></code>
functions before invoking this function.</p>
</dd></dl>

<dl class="function">
<dt id="urandomm">
<code class="descname">urandomm</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#urandomm" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a uniformly distributed random integer in the range 0 to
<em>n</em>-1, inclusive.</p>
<p>The session state must be initialized by calling one of the <code class="xref py py-obj docutils literal"><span class="pre">randinit()</span></code>
functions before invoking this function.</p>
</dd></dl>

<dl class="function">
<dt id="rrandomb">
<code class="descname">rrandomb</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#rrandomb" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random integer with long strings of zeros and ones in the
binary representation. Useful for testing functions and algorithms, since
this kind of random numbers have proven to be more likely to trigger
corner-case bugs. The random number will be in the range <span class="math">\(0\)</span> to
<span class="math">\(2^n-1\)</span>, inclusive.</p>
<p>The session state must be initialized by calling one of the <code class="xref py py-obj docutils literal"><span class="pre">randinit()</span></code>
functions before invoking this function.</p>
</dd></dl>

</div>
<div class="section" id="aggregation-functions">
<h2>Aggregation functions<a class="headerlink" href="#aggregation-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sum of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="prod">
<code class="descname">prod</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="max">
<code class="descname">max</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum value of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="min">
<code class="descname">min</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#min" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum value of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="bit_and">
<code class="descname">bit_and</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#bit_and" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bitwise and of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="bit_or">
<code class="descname">bit_or</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#bit_or" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bitwise inclusive-or of <em>z</em> across all input values.</p>
</dd></dl>

<dl class="function">
<dt id="bit_xor">
<code class="descname">bit_xor</code><span class="sig-paren">(</span><em>z</em><span class="sig-paren">)</span><a class="headerlink" href="#bit_xor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bitwise exclusive-or of <em>z</em> across all input values.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html"><code class="xref py py-obj docutils literal"><span class="pre">pgmp</span></code> extension installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href=""><code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> data type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mpz-textual-input-output"><code class="xref py py-obj docutils literal"><span class="pre">mpz</span></code> textual input/output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arithmetic-operators-and-functions">Arithmetic Operators and Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#division-operators-and-functions">Division Operators and Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exponentiation-functions">Exponentiation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#root-extraction-functions">Root Extraction Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#number-theoretic-functions">Number Theoretic Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logical-and-bit-manipulation-functions">Logical and Bit Manipulation Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#random-number-functions">Random number functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aggregation-functions">Aggregation functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mpq.html"><code class="xref py py-obj docutils literal"><span class="pre">mpq</span></code> data type</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous functions</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="install.html" title="pgmp extension installation"
              >previous</a> |
            <a href="mpq.html" title="mpq data type"
              >next</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/mpz.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2015, Daniele Varrazzo.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>